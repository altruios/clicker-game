(this.webpackJsonpcolorClicker=this.webpackJsonpcolorClicker||[]).push([[0],{14:function(e,a,n){},15:function(e,a,n){},16:function(e,a,n){"use strict";n.r(a);var t,c,r=n(0),i=n.n(r),s=n(4),u=n.n(s),o=(n(14),n(2)),m=n(5),l=n(6),d=n(1),y=n(8),b=n(7),f=(n(15),{buildingData:[{id:0,name:"fountain of Grey",buyPrice:[{name:"grey",cost:1}],count:0,itemType:"buildings",type:"greyScale",subjectsOfIncrease:[{name:"grey",amount:.02,max:120}],unlocks:[{name:"pens1",type:"sciences"}],increaseRatio:1.3,isBuyable:!1,isUnlocked:!0},{id:1,name:"fountain of red",buyPrice:[{name:"grey",cost:.5},{name:"red",cost:1}],count:0,itemType:"buildings",type:"primary",subjectsOfIncrease:[{name:"red",amount:.02,max:120}],unlocks:[],increaseRatio:1.22,isBuyable:!1,isUnlocked:!1},{id:2,name:"fountain of green",buyPrice:[{name:"grey",cost:.5},{name:"green",cost:1}],count:0,itemType:"buildings",type:"primary",subjectsOfIncrease:[{name:"green",amount:.02,max:120}],unlocks:[],increaseRatio:1.22,isBuyable:!1,isUnlocked:!1},{id:3,name:"fountain of blue",buyPrice:[{name:"grey",cost:.5},{name:"blue",cost:1}],count:0,itemType:"buildings",type:"primary",subjectsOfIncrease:[{name:"blue",amount:.02,max:120}],unlocks:[],increaseRatio:1.22,isBuyable:!1,isUnlocked:!1},{id:4,name:"fountain of white",buyPrice:[{name:"grey",cost:.5},{name:"red",cost:1},{name:"green",cost:1},{name:"blue",cost:1}],count:0,itemType:"buildings",type:"greyScale",subjectsOfIncrease:[{name:"grey",amount:.07,max:120},{name:"red",amount:.03,max:100},{name:"green",amount:.03,max:100},{name:"blue",amount:.03,max:100}],unlocks:[],increaseRatio:1.22,isBuyable:!1,isUnlocked:!1},{id:5,name:"fountain of purple",buyPrice:[{name:"red",cost:10},{name:"blue",cost:10}],count:0,itemType:"buildings",type:"secondary",subjectsOfIncrease:[{name:"blue",amount:.01,max:50},{name:"red",amount:.01,max:50},{name:"purple",amount:.01,max:100}],unlocks:[{name:"purple",type:"resources"}],increaseRatio:1.22,isBuyable:!1,isUnlocked:!1},{id:6,name:"fountain of teal",buyPrice:[{name:"green",cost:20},{name:"blue",cost:20}],count:0,itemType:"buildings",type:"secondary",subjectsOfIncrease:[{name:"blue",amount:.01,max:50},{name:"green",amount:.01,max:50},{name:"teal",amount:.01,max:100}],unlocks:[{name:"teal",type:"resources"}],increaseRatio:1.22,isBuyable:!1,isUnlocked:!1},{id:7,name:"fountain of orange",buyPrice:[{name:"red",cost:30},{name:"green",cost:30}],count:0,itemType:"buildings",type:"secondary",subjectsOfIncrease:[{name:"green",amount:.01,max:50},{name:"red",amount:.01,max:50},{name:"orange",amount:.01,max:100}],unlocks:[{name:"orange",type:"resources"}],increaseRatio:1.22,isBuyable:!1,isUnlocked:!1},{id:8,name:"fountain of black",buyPrice:[{name:"grey",cost:50}],count:0,itemType:"buildings",type:"greyScale",subjectsOfIncrease:[{name:"black",amount:.01,max:100}],unlocks:[{name:"black",type:"resources"},{name:"trade1",type:"sciences"}],increaseRatio:1.22,isBuyable:!1,isUnlocked:!1}],clickerData:[{name:"grey",building:!1,type:"greyScale",itemType:"clickers",subjectsOfIncrease:[{name:"grey",amount:.03,max:10}],isUnlocked:!0},{name:"red",building:!0,itemType:"clickers",type:"primary",subjectsOfIncrease:[{name:"red",amount:.02,max:10}],isUnlocked:!0},{name:"green",building:!0,itemType:"clickers",type:"primary",subjectsOfIncrease:[{name:"green",amount:.02,max:10}],isUnlocked:!0},{name:"blue",building:!0,itemType:"clickers",type:"primary",subjectsOfIncrease:[{name:"blue",amount:.02,max:10}],isUnlocked:!0}],resourceData:[{name:"black",type:"greyScale",itemType:"resources",max:100,isUnlocked:!1,changePerTick:0,amount:0},{name:"grey",type:"greyScale",itemType:"resources",max:100,isUnlocked:!0,changePerTick:.001,amount:0},{name:"red",type:"primary",itemType:"resources",max:100,isUnlocked:!0,changePerTick:0,amount:0},{name:"green",type:"primary",itemType:"resources",max:100,isUnlocked:!0,changePerTick:0,amount:0},{name:"blue",type:"primary",itemType:"resources",max:100,isUnlocked:!0,changePerTick:0,amount:0},{name:"purple",type:"secondary",itemType:"resources",max:90,isUnlocked:!1,changePerTick:0,amount:0},{name:"teal",type:"secondary",itemType:"resources",max:90,isUnlocked:!1,changePerTick:0,amount:0},{name:"orange",type:"secondary",itemType:"resources",max:90,isUnlocked:!1,changePerTick:0,amount:0}],scienceData:[(t={name:"trade1",id:0,itemType:"sciences",isUnlocked:!1,unlocks:[{type:"traders",name:"greyTrader"},{type:"traders",name:"blackTrader"}],buyPrice:[{name:"teal",cost:15},{name:"orange",cost:15},{name:"purple",cost:15}],description:"unlocks trade window"},Object(o.a)(t,"isUnlocked",!1),Object(o.a)(t,"isBuyable",!1),Object(o.a)(t,"bought",!1),t),(c={name:"pens1",isUnlocked:!1,id:1,unlocks:[{name:"greyPen",type:"upgrades"},{name:"redPen",type:"upgrades"},{name:"greenPen",type:"upgrades"},{name:"bluePen",type:"upgrades"}],itemType:"sciences",buyPrice:[{name:"black",cost:1},{name:"orange",cost:10},{name:"teal",cost:10},{name:"purple",cost:10}],description:"unlocks pens, which increase your collection effiency"},Object(o.a)(c,"isUnlocked",!1),Object(o.a)(c,"isBuyable",!1),Object(o.a)(c,"bought",!1),c)],upgradeData:[{id:0,name:"greyPen",type:"clickers",itemType:"upgrades",subjectsOfIncrease:[{name:"grey",amount:.1}],buyPrice:[{name:"black",cost:1},{name:"grey",cost:1}],count:0,oneTimeBuy:!1,isUnlocked:!1,isBuyable:!1},{id:1,name:"redPen",type:"clickers",itemType:"upgrades",subjectsOfIncrease:[{name:"red",amount:.1}],buyPrice:[{name:"black",cost:1},{name:"orange",cost:.5},{name:"purple",cost:.5}],count:0,oneTimeBuy:!1,isUnlocked:!1,isBuyable:!1},{id:2,name:"greenPen",type:"clickers",itemType:"upgrades",subjectsOfIncrease:[{name:"green",amount:.1}],buyPrice:[{name:"black",cost:1},{name:"teal",cost:.5},{name:"orange",cost:.5}],count:0,oneTimeBuy:!1,isUnlocked:!1,isBuyable:!1},{id:3,name:"bluePen",type:"clickers",itemType:"upgrades",subjectsOfIncrease:[{name:"blue",amount:.1}],buyPrice:[{name:"black",cost:1},{name:"purple",cost:.5},{name:"teal",cost:.5}],count:0,oneTimeBuy:!1,isUnlocked:!1,isBuyable:!1}],tradeData:[{id:0,name:"greyTrader",type:"trade",itemType:"traders",tradeRatios:{name:"grey",in:3,out:1,allowed:"primary"},buyPrice:[{name:"grey",cost:3}],isUnlocked:!1,isBuyable:!1},{id:1,name:"blackTrader",type:"trade",itemType:"traders",tradeRatios:{name:"black",in:6,out:1,allowed:"secondary"},buyPrice:[{name:"black",cost:6}],isUnlocked:!1,isBuyable:!1}]});var g=function(e){if(e.isUnlocked){var a="increase: "+e.subjectData.map((function(e){return"".concat(e.name," by ").concat(e.amount)})),n=(e.isBuyable,e.buyPrice.map((function(a){var n="cantAfford";return a.cost<=e.currentPrices.find((function(e){return e.name===a.name})).amount&&(n="afford"),i.a.createElement("div",{key:a.name,className:n},a.name,": ",i.a.createElement("br",null),a.cost)})));return i.a.createElement("div",{className:"building"},i.a.createElement("div",{className:"buildingTitle"}," ",e.name,i.a.createElement("div",{className:"priceContainer"},"BUY: ",n)),i.a.createElement("div",{className:"buildingBuyContainer"},e.isBuyable?i.a.createElement("button",{name:e.name,onClick:e.handleBuildingBuy,className:"buildingBuyBTN"},a):i.a.createElement("button",{name:e.name,className:"buildingNoBuyBTN"},"can't afford")),i.a.createElement("div",{className:"counter"}," COUNT:",e.count))}return null};var p=function(e){return e.isUnlocked?i.a.createElement("div",{className:"resource"},i.a.createElement("br",null),i.a.createElement("div",{style:{backgroundColor:e.name,color:"#ffffff"}},e.name,"  ",e.amount>0?e.amount:"0"," MAX: ",e.max,i.a.createElement("br",null),"rate of increase: ",e.changePerTick,i.a.createElement("br",null),i.a.createElement("br",null))):null};var k=function(e){var a=e.subjectData.map((function(e){return"collect: ".concat(e.amount," ").concat(e.name)}));return i.a.createElement("div",null,i.a.createElement("button",{style:{backgroundColor:e.name},className:"clickerBTN",name:e.name,onClick:e.handleClicker,value:e.subjectData[0].amount},a))};var h=function(e){if(e.isUnlocked&&!e.isBought){e.isBuyable;var a=e.buyPrice.map((function(a){var n=a.cost<=e.currentPrices.find((function(e){return e.name===a.name})).amount?"afford":"cantAfford";return i.a.createElement("div",{key:a.name,className:n},a.name,": ",i.a.createElement("br",null),a.cost)}));return i.a.createElement("div",{className:"science"},i.a.createElement("div",{className:"buildingTitle"}," ",e.name,i.a.createElement("div",{className:"priceContainer"},"BUY: ",a)),i.a.createElement("div",{className:"buildingBuyContainer"},e.isBuyable?i.a.createElement("button",{name:e.name,onClick:e.handleBuyScience,className:"buildingBuyBTN"},"affordable"):i.a.createElement("button",{name:e.name,className:"buildingNoBuyBTN"},"can't afford")),i.a.createElement("div",{className:"hasBeenBought"}," ",e.description))}return i.a.createElement("div",null,"science ",e.isBought?"aready Bought":"locked"," :",e.name)};var v=function(e){if(e.isUnlocked){e.isBuyable;var a=e.subjectData.map((function(e){return"".concat(e.name," by ").concat(e.amount)})),n=e.buyPrice.map((function(a){var n=a.cost<=e.currentPrices.find((function(e){return e.name===a.name})).amount?"afford":"cantAfford";return i.a.createElement("div",{key:a.name,className:n},a.name,": ",i.a.createElement("br",null),a.cost)}));return i.a.createElement("div",{className:"science"},i.a.createElement("div",{className:"buildingTitle"}," ",e.name,i.a.createElement("div",{className:"priceContainer"},"BUY: ",n)),i.a.createElement("div",{className:"buildingBuyContainer"},e.isBuyable?i.a.createElement("button",{name:e.name,onClick:e.handleUpgrade,className:"buildingBuyBTN"},"upgrade:",a):i.a.createElement("button",{name:e.name,className:"buildingNoBuyBTN"},"can't afford")),i.a.createElement("div",{className:"count"}," ",e.count))}return i.a.createElement("div",null,e.isBuyable?"upgrade: Locked":null)};var B=function(e){if(e.isUnlocked){e.isBuyable;var a=e.canTradeWith.map((function(a){return e.isBuyable?i.a.createElement("button",{name:e.name,key:a.name,onClick:e.handleTrade,className:a.name,value:a},"trade: ",e.tradeRatio.in," of ",e.tradeRatio.name,"for ",e.tradeRatio.out," of ",a.name):i.a.createElement("button",{key:a.name,name:e.name,className:"cantAfford"}," trade: ",e.tradeRatio.in," of ",e.tradeRatio.name," for ",e.tradeRatio.out," of ",a.name)}));return i.a.createElement("div",{className:"trader"},i.a.createElement("div",{className:"buildingTitle"}," ",e.name,i.a.createElement("div",{className:"priceContainer"},"trade!!! ")),i.a.createElement("div",{className:"buildingBuyContainer"},a),i.a.createElement("div",{className:"count"}," ",e.count))}return i.a.createElement("div",null,e.isBuyable?"upgrade: Locked":null)},T=function(e){Object(y.a)(n,e);var a=Object(b.a)(n);function n(){var e;if(Object(m.a)(this,n),(e=a.call(this)).handleClicker=e.handleClicker.bind(Object(d.a)(e)),e.buyBuilding=e.buyBuilding.bind(Object(d.a)(e)),e.buyScience=e.buyScience.bind(Object(d.a)(e)),e.checkBuyingStatus=e.checkBuyingStatus.bind(Object(d.a)(e)),e.buyState=e.buyStatus.bind(Object(d.a)(e)),e.handleBuildingBuy=e.handleBuildingBuy.bind(Object(d.a)(e)),e.handleUpgrade=e.handleUpgrade.bind(Object(d.a)(e)),e.unlock=e.unlock.bind(Object(d.a)(e)),e.handleBuyScience=e.handleBuyScience.bind(Object(d.a)(e)),e.handleTrade=e.handleTrade.bind(Object(d.a)(e)),e.saveGame=e.saveGame.bind(Object(d.a)(e)),localStorage.getItem("save")){var t=JSON.parse(localStorage.getItem("save"));e.state={buildings:t.buildings,resources:t.resources,clickers:t.clickers,sciences:t.sciences,upgrades:t.upgrades,traders:t.traders,resetCount:t.resetCount},console.log(e.state)}else e.state={buildings:f.buildingData,resources:f.resourceData,clickers:f.clickerData,sciences:f.scienceData,upgrades:f.upgradeData,traders:f.tradeData,resetCount:0},console.log(e.state);return e}return Object(l.a)(n,[{key:"saveGame",value:function(e){var a=JSON.stringify(e);localStorage.setItem("save",a)}},{key:"gameTime",value:function(){var e=this;setInterval((function(){e.state.resources.forEach((function(a){return e.tickResource(a)}))}),1e3),setInterval((function(){e.state.buildings.forEach((function(a){return e.checkBuyingStatus(a)})),e.state.sciences.forEach((function(a){a.isUnlocked&&e.checkBuyingStatus(a)})),e.state.upgrades.forEach((function(a){a.isUnlocked&&e.checkBuyingStatus(a)})),e.state.traders.forEach((function(a){a.isUnlocked&&e.checkBuyingStatus(a)}))}),100)}},{key:"tickResource",value:function(e){var a=e;this.setState((function(n){return{resources:n.resources.map((function(n){return n.name===a.name&&(e.amount=Number(Math.min(e.max,e.amount+e.changePerTick).toFixed(4)),e.counterTillStopped=Math.max(0,e.counterTillStopped-e.changePerTick)),n}))}}))}},{key:"componentDidMount",value:function(e,a){this.gameTime()}},{key:"componentDidUpdate",value:function(){this.saveGame(this.state)}},{key:"handleBuildingBuy",value:function(e){var a=this,n=e.target.name,t=this.state.buildings.find((function(e){return e.name===n}));if(t.isBuyable){var c=t.unlocks;c.length>0&&c.forEach((function(e){return a.unlock(e)})),this.buyBuilding(t)}}},{key:"buyBuilding",value:function(e){var a=e.subjectsOfIncrease,n=e.buyPrice;e.name;this.setState((function(t){return{resources:t.resources.map((function(t){var c=n.find((function(e){return e.name===t.name}));if(a.find((function(e){return e.name===t.name}))){console.log("increasing the maximum of resource:",t);e.count;var r=e.subjectsOfIncrease.find((function(e){return e.name===t.name})),i=r.max,s=r.amount;t.max=Number((t.max+i).toFixed(4)),t.changePerTick=Number((t.changePerTick+s).toFixed(5))}return c&&(console.log("this costs this much:",t.name,c.cost),t.amount=Number((t.amount-c.cost).toFixed(4))),t})),buildings:t.buildings.map((function(a){return e.name===a.name&&(a.count=a.count+1,a.buyPrice.forEach((function(e){e.cost=Number((e.cost*a.increaseRatio).toFixed(4))}))),a}))}}))}},{key:"handleBuyScience",value:function(e){console.log(e);var a=this.state.sciences.find((function(a){return a.name===e.target.name}));console.log(a),this.buyScience(a)}},{key:"buyScience",value:function(e){var a=this,n=e.buyPrice;console.log(n);e.name;this.setState((function(a){return{resources:a.resources.map((function(e){var a=n.find((function(a){return a.name===e.name}));return a&&(e.amount=Number((e.amount-a.cost).toFixed(4))),e})),sciences:a.sciences.map((function(a){return e.name===a.name&&(a.isBought=!0),a}))}})),console.log(this.state),e.unlocks.forEach((function(e){return a.unlock(e)}))}},{key:"unlock",value:function(e){var a=e.type;console.log(a),console.log("unlocking"),this.setState((function(n){console.log(n[a]);var t=n[a].map((function(a){return e.name===a.name&&(console.log(e.name,"isunlocking"),a.isUnlocked=!0),a}));return Object(o.a)({},a,t)}))}},{key:"handleClicker",value:function(e){console.log(e),console.log(e.target);var a=e.target.name;this.setState((function(e){var n=e.clickers.find((function(e){return e.name===a}));return void 0===n&&console.error("undefined,",a),{resources:e.resources.map((function(e){var a=n.subjectsOfIncrease.find((function(a){return a.name===e.name}));return a&&(e.amount=Number(Math.min(e.max,e.amount+a.amount).toFixed(4))),e}))}}))}},{key:"handleUpgrade",value:function(e){var a=this,n=e.target.name,t=this.state.upgrades.find((function(e){return e.name===n})),c=t.type,r=t.subjectsOfIncrease,i=t.buyPrice;r.forEach((function(e){a.setState((function(a){var t,r=a[c].map((function(a){if(a.name===e.name){var n=a.subjectsOfIncrease.map((function(a){return a.amount=Number((a.amount+e.amount).toFixed(4)),a}));console.log("new subjects"),a.subjectsOfIncrease=n,console.log(a)}return a})),s=a.upgrades.map((function(e){if(e.name===n){var a=e.buyPrice.map((function(e){return e.cost=Number((1.54*e.cost).toFixed(4)),e}));e.buyPrice=a,e.count=e.count+1,console.log(a)}return e})),u=a.resources.map((function(e){return i.forEach((function(a){a.name===e.name&&(e.amount=Number((e.amount-a.cost).toFixed(4)))})),e}));return t={},Object(o.a)(t,c,r),Object(o.a)(t,"upgrades",s),Object(o.a)(t,"resources",u),t}))}))}},{key:"handleTrade",value:function(e){var a=this.state.traders.find((function(a){return a.name===e.target.name})),n=e.target.value;console.log(e.target.className,"is classname"),this.setState((function(e){return{resources:e.resources.map((function(e){if(e.name===a.tradeRatios.name){var t=a.tradeRatios.in;e.amount=Number((e.amount-t).toFixed(4))}if(e.name===n){console.log("adding to ",e.name,"becuase target is",n);var c=a.tradeRatios.out;e.amount=Number((e.amount+c).toFixed(4))}return e}))}}))}},{key:"checkBuyingStatus",value:function(e){var a=this,n=e.itemType;this.setState((function(t){var c=t.resources.filter((function(a){if(e.buyPrice.find((function(e){return e.name===a.name})))return a})),r=t[n].map((function(n){if(n.name===e.name){var t=a.buyStatus(c,e.buyPrice);n.isBuyable=t,t&&(n.isUnlocked=!0)}return n}));return Object(o.a)({},n,r)}))}},{key:"buyStatus",value:function(e,a){var n=!1,t=a.length;return e.forEach((function(e){a.find((function(a){return a.name===e.name})).cost<=e.amount&&(t-=1)})),0===t&&(n=!0),n}},{key:"render",value:function(){var e=this,a=this.state.buildings.map((function(a){return i.a.createElement(g,{key:a.id,name:a.name,currentPrices:e.state.resources,handleBuildingBuy:e.handleBuildingBuy,buyPrice:a.buyPrice,count:a.count,subjectsOfIncrease:a.subjectsOfIncrease,isBuyable:a.isBuyable,isUnlocked:a.isUnlocked,subjectData:a.subjectsOfIncrease})})),n=this.state.resources.map((function(e){return i.a.createElement(p,{name:e.name,max:e.max,isUnlocked:e.isUnlocked,changePerTick:e.changePerTick,amount:e.amount,key:e.name})})),t=this.state.clickers.map((function(a){return i.a.createElement(k,{name:a.name,handleClicker:e.handleClicker,subjectData:a.subjectsOfIncrease,key:a.name})})),c=this.state.sciences.map((function(a){return i.a.createElement(h,{key:a.id,name:a.name,handleBuyScience:e.handleBuyScience,isBought:a.isBought,currentPrices:e.state.resources,isUnlocked:a.isUnlocked,description:a.description,isBuyable:a.isBuyable,buyPrice:a.buyPrice})})),r=this.state.upgrades.map((function(a){return i.a.createElement(v,{key:a.id,name:a.name,buyPrice:a.buyPrice,amount:a.amount,isUnlocked:a.isUnlocked,isBuyable:a.isBuyable,upgradeType:a.type,count:a.count,handleUpgrade:e.handleUpgrade,currentPrices:e.state.resources,subjectData:a.subjectsOfIncrease})})),s=this.state.traders.map((function(a){var n=e.state.resources.filter((function(e){return a.tradeRatios.allowed===e.type}));return i.a.createElement(B,{key:a.id,name:a.name,tradeRatio:a.tradeRatios,isUnlocked:a.isUnlocked,isBuyable:a.isBuyable,handleTrade:e.handleTrade,canTradeWith:n})}));return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"title"},"COLOR CLICKER"),i.a.createElement("div",{className:"buildingContainer"},a),i.a.createElement("div",{className:"resourceContainer"},n),i.a.createElement("div",{className:"clickerContainer"},t),i.a.createElement("div",{className:"scienceContainer"}," ",c),i.a.createElement("div",{className:"upgradeContainer"},r),i.a.createElement("div",{className:"traderContainer"},s))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=document.getElementById("root");u.a.render(i.a.createElement(T,null),E),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,a,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.9f96215b.chunk.js.map