{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\clicker game\\\\clicker-game\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport gameData from \"./gameData.js\";\nimport Building from \"./Building\";\nimport Resource from \"./Resource\";\nimport Clicker from \"./Clicker\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      buildings: gameData.buildingData,\n      resources: gameData.resourceData,\n      clickers: gameData.clickerData\n    };\n    this.handleClicker = this.handleClicker.bind(this);\n    this.buy = this.buy.bind(this);\n  }\n\n  gameTime() {\n    const gameTick = setInterval(() => {\n      this.state.resources.forEach(resource => this.tickResource(resource));\n    }, 100);\n  }\n\n  tickResource(resource) {\n    const targetResource = resource;\n    this.setState(prevState => {\n      const newResources = prevState.resources.map(lastResource => {\n        if (lastResource.name === targetResource.name) {\n          resource.amount = Number(Math.min(resource.max, resource.amount + resource.changePerTick).toFixed(4));\n          resource.counterTillStopped = Math.max(0, resource.counterTillStopped - resource.changePerTick);\n        }\n\n        return lastResource;\n      });\n      return {\n        resources: newResources\n      };\n    });\n  }\n\n  componentDidMount(prevProps, prevState) {\n    this.gameTime();\n  }\n\n  handleClicker(event) {\n    console.log(event);\n    const {\n      name,\n      value\n    } = event.target;\n    console.log(name, value);\n    this.setState(prevState => {\n      const targetClicker = prevState.clickers.find(x => x.name === name);\n      const newResources = prevState.resources.map(resource => {\n        const targetIncrease = targetClicker.subjectsOfIncrease.find(x => x.name === resource.name);\n\n        if (targetIncrease) {\n          resource.amount = Number(Math.min(resource.max, resource.amount + targetIncrease.amount).toFixed(4));\n        }\n\n        return resource;\n      });\n      return {\n        resources: newResources\n      };\n    });\n  }\n\n  buy(target) {}\n\n  checkBuyingStatus(building) {\n    this.setState(prevState => {\n      const targetResources = prevState.resources.filter(resource => {\n        const targetBuyPriceObject = building.buyPrice.find(x => x.name === resource.name);\n\n        if (targetBuyPriceObject) {\n          return resource;\n        }\n      });\n      const newBuildings = prevState.buildings.map(build => {\n        if (build.name === building.name) {\n          build.isBuyable = checbuy(targetResources, building.cost);\n        }\n\n        return build;\n      });\n      return {\n        buildings: newBuildings\n      };\n    });\n  }\n\n  buy(resourceArray, costArray) {\n    let buyStatus = false;\n    let buyLength = costArray.length;\n    resourceArray.forEach(resource => {\n      const targetCost = costArray.find(x => x.name === resource.name);\n\n      if (targetCost <= resource.amount) {\n        buyLength = buyLength - 1;\n      }\n    });\n\n    if (buyLength === 0) {\n      buyStatus = true;\n    }\n\n    return buyStatus;\n  }\n\n  render() {\n    const buildings = this.state.buildings.map(buildingData => {\n      return /*#__PURE__*/React.createElement(Building, {\n        name: buildingData.name,\n        buyPrice: buildingData.buyPrice,\n        count: buildingData.count,\n        subjectsOfIncrease: buildingData.subjectsOfIncrease,\n        isBuyable: buildingData.isBuyable,\n        sellPrice: buildingData.sellPrice,\n        isUnlocked: buildingData.isUnlocked,\n        key: buildingData.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 9\n        }\n      });\n    });\n    const resources = this.state.resources.map(resourceData => {\n      return /*#__PURE__*/React.createElement(Resource, {\n        name: resourceData.name,\n        max: resourceData.max,\n        isUnlocked: resourceData.isUnlocked,\n        changePerTick: resourceData.changePerTick,\n        counterTillStopped: resourceData.counterTillStopped.toFixed(4),\n        amount: resourceData.amount,\n        key: resourceData.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }\n      });\n    });\n    const clickers = this.state.clickers.map(clickerData => {\n      return /*#__PURE__*/React.createElement(Clicker, {\n        name: clickerData.name,\n        handleClicker: this.handleClicker,\n        value: clickerData.amount,\n        key: clickerData.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }, buildings, resources, clickers);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/xampp/htdocs/clicker game/clicker-game/src/App.js"],"names":["React","gameData","Building","Resource","Clicker","App","Component","constructor","state","buildings","buildingData","resources","resourceData","clickers","clickerData","handleClicker","bind","buy","gameTime","gameTick","setInterval","forEach","resource","tickResource","targetResource","setState","prevState","newResources","map","lastResource","name","amount","Number","Math","min","max","changePerTick","toFixed","counterTillStopped","componentDidMount","prevProps","event","console","log","value","target","targetClicker","find","x","targetIncrease","subjectsOfIncrease","checkBuyingStatus","building","targetResources","filter","targetBuyPriceObject","buyPrice","newBuildings","build","isBuyable","checbuy","cost","resourceArray","costArray","buyStatus","buyLength","length","targetCost","render","count","sellPrice","isUnlocked"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport gameData from \"./gameData.js\"\nimport Building from \"./Building\"\nimport Resource from \"./Resource\"\nimport Clicker from \"./Clicker\"\nclass App extends React.Component \n  {\n  constructor()\n    {\n    super();\n    this.state = {\n      buildings:gameData.buildingData,\n      resources:gameData.resourceData,\n      clickers:gameData.clickerData\n\n    };\n   this.handleClicker = this.handleClicker.bind(this);\n   this.buy = this.buy.bind(this);\n\n  }\n  gameTime()\n    {\n    const gameTick = setInterval(()=>\n        {\n        this.state.resources.forEach(resource=>this.tickResource(resource));\n      },100);\n  }\n\n  tickResource(resource)\n    {\n    const targetResource = resource;  \n    this.setState((prevState) =>\n      {  \n      const newResources = prevState.resources.map(lastResource=>\n        {\n        if(lastResource.name === targetResource.name)\n          {\n          resource.amount = Number(Math.min(resource.max,resource.amount + resource.changePerTick).toFixed(4));\n          resource.counterTillStopped = Math.max(0, resource.counterTillStopped - resource.changePerTick);\n        }\n        return lastResource;\n      }); \n\n      return {resources: newResources}\n    });\n  }\n\n  componentDidMount(prevProps, prevState)\n    {\n    this.gameTime(); \n  }\n    \n  handleClicker(event)\n    {\n    console.log(event);\n    const {name, value} = event.target;  \n    console.log(name, value);\n\n    this.setState(prevState=>\n      {\n      const targetClicker = prevState.clickers.find(x=>x.name ===name);\n      const newResources = prevState.resources.map(resource=>\n          {\n           const targetIncrease =  targetClicker.subjectsOfIncrease.find(x=>x.name===resource.name)\n          if(targetIncrease)\n            {\n            resource.amount = Number(Math.min(resource.max,resource.amount + targetIncrease.amount).toFixed(4));\n          }\n          return resource;\n        })\n\n\n      return {resources:newResources}\n    })\n  }\n  buy(target) \n    { \n   \n\n  }\n  checkBuyingStatus(building)\n    {\n    this.setState((prevState)=>\n      {  \n      const targetResources = prevState.resources.filter((resource)=>\n        {\n        const targetBuyPriceObject = building.buyPrice.find(x=>x.name===resource.name);  \n        if(targetBuyPriceObject)\n          {\n          return resource;\n        }\n      });\n      \n      const newBuildings = prevState.buildings.map((build)=>\n        {\n        if(build.name === building.name)\n          {\n          build.isBuyable = checbuy(targetResources, building.cost);\n        }\n\n        return build\n      });\n\n    return{buildings:newBuildings};\n    });\n}\n  buy(resourceArray, costArray)\n    {\n    let buyStatus = false;\n    let buyLength = costArray.length;\n    resourceArray.forEach(resource=>  \n      {\n      const targetCost = costArray.find(x=>x.name===resource.name);\n      if(targetCost<=resource.amount) \n        {\n        buyLength = buyLength - 1;\n      }\n    });\n    if(buyLength === 0)\n      {\n      buyStatus = true;\n    }\n\n    return buyStatus;\n  }\n\n \n  \n  render()\n    {\n    const buildings = this.state.buildings.map(buildingData=>\n      {\n      return(\n        <Building \n          name ={buildingData.name}\n          buyPrice={buildingData.buyPrice}\n          count = {buildingData.count}\n          subjectsOfIncrease = {buildingData.subjectsOfIncrease}\n          isBuyable = {buildingData.isBuyable}\n          sellPrice = {buildingData.sellPrice}\n          isUnlocked = {buildingData.isUnlocked}\n          key={buildingData.name}\n          \n        />)\n    });\n    const resources = this.state.resources.map(resourceData=>\n      {\n\n        return(\n\n        <Resource \n          name ={resourceData.name}\n          max = {resourceData.max}\n          isUnlocked = {resourceData.isUnlocked}\n          changePerTick = {resourceData.changePerTick}\n          counterTillStopped = {resourceData.counterTillStopped.toFixed(4)}\n          amount={resourceData.amount}\n          key={resourceData.name}\n\n        />)\n    });   \n\n    const clickers = this.state.clickers.map(clickerData=>\n      {\n      return(\n        <Clicker\n          name={clickerData.name} \n          handleClicker = {this.handleClicker}\n          value = {clickerData.amount}\n          key={clickerData.name}\n        />\n\n      )\n    })\n\n\n\n\n  return (\n\n        <div className=\"App\">\n        {buildings}\n        {resources}\n        {clickers}\n        </div>\n       );\n      }\n    \n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}